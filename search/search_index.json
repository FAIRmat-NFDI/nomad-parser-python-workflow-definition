{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"NOMAD Parser for Python Workflow Definition (PWD) \u00b6 Introduction & Scope \u00b6 The nomad-parser-python-workflow-definition is a NOMAD plugin designed to bridge the gap between NOMAD and the Python Workflow Definition (PWD) standard. Scope: The plugin enables NOMAD to ingest, parse, and visualize scientific workflows defined in the PWD JSON format. This allows workflows orchestrated by external tools (such as pyiron , AiiDA , or jobflow ) to be archived and explored within the NOMAD interface. Connecting to PWD \u00b6 The plugin connects to PWD by interpreting the standardized JSON graph structure: Input: It accepts workflow.json files defined by the PWD standard. Mapping: It maps PWD nodes and edges to NOMAD's internal Workflow and Task schema. Validation: It utilizes the upstream library to ensure schema compatibility. Key Features & Functionality \u00b6 A. Smart Graph Simplification \u00b6 Raw PWD graphs often contain many \"utility\" nodes (e.g., parameter setters, getters) that clutter the visualization. This plugin implements a Smart Graph Simplification strategy using networkx : Scientific Tasks: Nodes that generate files (possess a working_directory ) or act as topological \"Hubs\" (high connectivity) remain at the top level. Utility Functions: Low-level helper nodes are automatically grouped into a nested sub-workflow named \"Utility Functions,\" ensuring the user sees a clean, high-level view of the scientific process. B. Data Linking & Path Resolution \u00b6 The plugin extends the schema to make the graph interactive: Schema Extension: Adds working_directory and output fields to capture execution context. Active Linking: It resolves absolute paths found in the JSON (e.g., /home/cluster/... ) relative to the NOMAD upload directory. If a simulation file (e.g., .out , .xml ) is found, the graph node becomes a clickable TaskReference linking directly to the data entry. C. Robust Parsing \u00b6 The parser uses a robust detection mechanism (scanning for \"nodes\": [...] ) to identify PWD files. This ensures reliable ingestion even during streaming uploads where standard JSON parsing might fail on partial buffers. Demo & Usage \u00b6 To demonstrate the plugin functionality: Prerequisites \u00b6 A valid upload must contain the following \"Companion Files\": * workflow.json (The graph structure) * workflow.py (The Python script definition) * environment.yaml (Dependency definition) Verification Steps \u00b6 Start the GUI: Run your local NOMAD instance and navigate to the UI. Upload: Create a new upload and drop the example files (e.g., files in tests/data/data_export/ ). Visual Verification: Graph View: Open the Workflow entry. You should see a simplified graph where utility nodes are hidden. Data Links: Click on a compute node. If the working_directory contains output files, NOMAD will navigate you to that specific file entry.","title":"Home"},{"location":"index.html#nomad-parser-for-python-workflow-definition-pwd","text":"","title":"NOMAD Parser for Python Workflow Definition (PWD)"},{"location":"index.html#introduction-scope","text":"The nomad-parser-python-workflow-definition is a NOMAD plugin designed to bridge the gap between NOMAD and the Python Workflow Definition (PWD) standard. Scope: The plugin enables NOMAD to ingest, parse, and visualize scientific workflows defined in the PWD JSON format. This allows workflows orchestrated by external tools (such as pyiron , AiiDA , or jobflow ) to be archived and explored within the NOMAD interface.","title":"Introduction &amp; Scope"},{"location":"index.html#connecting-to-pwd","text":"The plugin connects to PWD by interpreting the standardized JSON graph structure: Input: It accepts workflow.json files defined by the PWD standard. Mapping: It maps PWD nodes and edges to NOMAD's internal Workflow and Task schema. Validation: It utilizes the upstream library to ensure schema compatibility.","title":"Connecting to PWD"},{"location":"index.html#key-features-functionality","text":"","title":"Key Features &amp; Functionality"},{"location":"index.html#a-smart-graph-simplification","text":"Raw PWD graphs often contain many \"utility\" nodes (e.g., parameter setters, getters) that clutter the visualization. This plugin implements a Smart Graph Simplification strategy using networkx : Scientific Tasks: Nodes that generate files (possess a working_directory ) or act as topological \"Hubs\" (high connectivity) remain at the top level. Utility Functions: Low-level helper nodes are automatically grouped into a nested sub-workflow named \"Utility Functions,\" ensuring the user sees a clean, high-level view of the scientific process.","title":"A. Smart Graph Simplification"},{"location":"index.html#b-data-linking-path-resolution","text":"The plugin extends the schema to make the graph interactive: Schema Extension: Adds working_directory and output fields to capture execution context. Active Linking: It resolves absolute paths found in the JSON (e.g., /home/cluster/... ) relative to the NOMAD upload directory. If a simulation file (e.g., .out , .xml ) is found, the graph node becomes a clickable TaskReference linking directly to the data entry.","title":"B. Data Linking &amp; Path Resolution"},{"location":"index.html#c-robust-parsing","text":"The parser uses a robust detection mechanism (scanning for \"nodes\": [...] ) to identify PWD files. This ensures reliable ingestion even during streaming uploads where standard JSON parsing might fail on partial buffers.","title":"C. Robust Parsing"},{"location":"index.html#demo-usage","text":"To demonstrate the plugin functionality:","title":"Demo &amp; Usage"},{"location":"index.html#prerequisites","text":"A valid upload must contain the following \"Companion Files\": * workflow.json (The graph structure) * workflow.py (The Python script definition) * environment.yaml (Dependency definition)","title":"Prerequisites"},{"location":"index.html#verification-steps","text":"Start the GUI: Run your local NOMAD instance and navigate to the UI. Upload: Create a new upload and drop the example files (e.g., files in tests/data/data_export/ ). Visual Verification: Graph View: Open the Workflow entry. You should see a simplified graph where utility nodes are hidden. Data Links: Click on a compute node. If the working_directory contains output files, NOMAD will navigate you to that specific file entry.","title":"Verification Steps"},{"location":"installation.html","text":"Development & Installation \u00b6 If you want to develop this plugin locally, you can set up a standalone environment or use the NOMAD development distribution. Standalone Setup \u00b6 Clone the project and create a virtual environment (Python 3.10, 3.11, or 3.12): git clone https://github.com/FAIRmat-NFDI/nomad-parser-python-workflow-definition.git cd nomad-parser-python-workflow-definition python3.11 -m venv .pyenv . .pyenv/bin/activate Upgrade pip and install uv for faster installation: pip install --upgrade pip pip install uv Install the package in editable mode with development dependencies: uv pip install -e '.[dev]' Development within NOMAD Distribution \u00b6 For full integration testing with the NOMAD infrastructure (GUI, North, etc.), we recommend using the dedicated nomad-distro-dev repository. Please refer to that repository for detailed setup instructions. Run Tests and Linting \u00b6 You can run the tests locally: python -m pytest -sv tests To run linting and auto-formatting (Ruff): ruff format . ruff check . --fix","title":"Installation"},{"location":"installation.html#development-installation","text":"If you want to develop this plugin locally, you can set up a standalone environment or use the NOMAD development distribution.","title":"Development &amp; Installation"},{"location":"installation.html#standalone-setup","text":"Clone the project and create a virtual environment (Python 3.10, 3.11, or 3.12): git clone https://github.com/FAIRmat-NFDI/nomad-parser-python-workflow-definition.git cd nomad-parser-python-workflow-definition python3.11 -m venv .pyenv . .pyenv/bin/activate Upgrade pip and install uv for faster installation: pip install --upgrade pip pip install uv Install the package in editable mode with development dependencies: uv pip install -e '.[dev]'","title":"Standalone Setup"},{"location":"installation.html#development-within-nomad-distribution","text":"For full integration testing with the NOMAD infrastructure (GUI, North, etc.), we recommend using the dedicated nomad-distro-dev repository. Please refer to that repository for detailed setup instructions.","title":"Development within NOMAD Distribution"},{"location":"installation.html#run-tests-and-linting","text":"You can run the tests locally: python -m pytest -sv tests To run linting and auto-formatting (Ruff): ruff format . ruff check . --fix","title":"Run Tests and Linting"},{"location":"explanation/explanation.html","text":"Explanation \u00b6 Attention TODO","title":"Explanation"},{"location":"explanation/explanation.html#explanation","text":"Attention TODO","title":"Explanation"},{"location":"how_to/contribute_to_the_documentation.html","text":"Contribute to the documentation \u00b6 Attention TODO","title":"Contribute to the documentation"},{"location":"how_to/contribute_to_the_documentation.html#contribute-to-the-documentation","text":"Attention TODO","title":"Contribute to the documentation"},{"location":"how_to/contribute_to_this_plugin.html","text":"Contribute to This Plugin \u00b6 Attention TODO","title":"Contribute to This Plugin"},{"location":"how_to/contribute_to_this_plugin.html#contribute-to-this-plugin","text":"Attention TODO","title":"Contribute to This Plugin"},{"location":"how_to/install_this_plugin.html","text":"Install This Plugin \u00b6 Attention TODO","title":"Install This Plugin"},{"location":"how_to/install_this_plugin.html#install-this-plugin","text":"Attention TODO","title":"Install This Plugin"},{"location":"how_to/use_this_plugin.html","text":"How to Use This Plugin \u00b6 This plugin can be used in a NOMAD Oasis installation. Add This Plugin to Your NOMAD installation \u00b6 Read the NOMAD plugin documentation for all details on how to deploy the plugin on your NOMAD instance. Attention TODO","title":"How to Use This Plugin"},{"location":"how_to/use_this_plugin.html#how-to-use-this-plugin","text":"This plugin can be used in a NOMAD Oasis installation.","title":"How to Use This Plugin"},{"location":"how_to/use_this_plugin.html#add-this-plugin-to-your-nomad-installation","text":"Read the NOMAD plugin documentation for all details on how to deploy the plugin on your NOMAD instance. Attention TODO","title":"Add This Plugin to Your NOMAD installation"},{"location":"reference/references.html","text":"References \u00b6 Attention TODO","title":"References"},{"location":"reference/references.html#references","text":"Attention TODO","title":"References"},{"location":"tutorial/tutorial.html","text":"Tutorial \u00b6 Attention TODO","title":"Tutorial"},{"location":"tutorial/tutorial.html#tutorial","text":"Attention TODO","title":"Tutorial"}]}